version: 0.3

// Components Test
// Demonstrates: tileGroups, macro builder placeholders, checkbox variants,
// scrollable lists, and repeatable grids

relativeLayouts {
  grid: 21, 31 {
  hexgrid:pointy(2, 3) {

  #endpoint point: 600,10

  #endpoints list {
        point: 250,20
        point: 450,20
        point: 10,20
        point: 10,20
  }

    #mainDropDown sequence($i:0..30) point: 10 + $i * 120, 100
    #buttons sequence($i:0..30) point: 10 + $i * 200, 500
    #checkboxes sequence($i:0..30) point: 300, 200 + 30 * $i
  }
  }
}

// Macro placeholder test - 4 types of builder parameters:
//   element: pre-created UI element
//   factoryElement: factory function returning UI element
//   h2dObject: pre-created h2d.Object
//   h2dObjectFactory: factory function returning h2d.Object
#macroTest programmable() {
      pos:600,200
      text(dd, "Macro Placeholders", #ffffffcc): 0,0
      placeholder(generated(cross(10, 10)), builderParameter("element")):0,25
      placeholder(generated(cross(10, 10)), builderParameter("factoryElement")):0,50
      placeholder(generated(cross(10, 10)), builderParameter("h2dObject")):0,75
      placeholder(generated(cross(10, 10)), builderParameter("h2dObjectFactory")):0,100
}

// TileGroup examples - bitmap alignment
// Shows left/top, left/center, left/bottom alignment
#testTileGroup3 programmable() {
      pos:600,100
      point {
            text(dd, "Bitmap Alignment", #ffffffcc): 0,0
            bitmap(generated(color(20, 20, white)), left, top):0,50
            bitmap(generated(color(20, 20, white)), left, center):40,50
            bitmap(generated(color(20, 20, white)), left, bottom):80,50
      }
}

// TileGroup with pos offset inside point
#testTileGroup2 programmable tileGroup() {
      pos:600,100
      point {
            pos:5,5
            bitmap(generated(color(20, 20, red)), left, top):0,50
            bitmap(generated(color(20, 20, red)), left, center):40,50
            bitmap(generated(color(20, 20, red)), left, bottom):80,50
      }
}

// TileGroup with absolute pixel positions
#testTileGroup1 programmable tileGroup() {
      point {
            bitmap(generated(color(20, 20, gray)), left, top):610, 160
            bitmap(generated(color(20, 20, gray)), left, center):650, 160
            bitmap(generated(color(20, 20, gray)), left, bottom):690, 160
      }
}

// TileGroup with repeatable grid layout
#testTileGroup4 programmable tileGroup() {
      pos:800,100
      repeatable($index, grid(3, dx:40)) {
            bitmap(generated(color(20, 20, white)), left, top);
      }
}

// Repeatable grid without tileGroup (for comparison)
#testTileGroup5 programmable() {
      pos:805,105
      repeatable($index, grid(3, dx:40)) {
            bitmap(generated(color(20, 20, orange)), left, top);
      }
}

// TileGroup repeatable with variable iterator
#testTileGroup6 programmable tileGroup() {
      repeatable($item, grid(3, dx:40)) {
            pos:810,110
            bitmap(generated(color(20, 20, red)), left, top);
      }
}


// Main UI - interactive components
// Checkbox variants: checkbox2, radio, radio2, tickbox, toggle
// Scrollable lists with different item counts and settings
// Checkbox with label text
#ui programmable() {
      pos:100,300

      // 5 checkbox style variants (overriding the build name via settings)
      placeholder(generated(cross(200, 20)), builderParameter("checkbox1")) {
            settings{checkboxBuildName=>checkbox2}
      }
      placeholder(generated(cross(200, 20)), builderParameter("checkbox2")) {
            pos:30,0
            settings{checkboxBuildName=>radio}
      }
      placeholder(generated(cross(200, 20)), builderParameter("checkbox3")) {
            pos:60,0
            settings{checkboxBuildName=>radio2}
      }
      placeholder(generated(cross(200, 20)), builderParameter("checkbox4")) {
            pos:90,0
            settings{checkboxBuildName=>tickbox}
      }
      placeholder(generated(cross(200, 20)), builderParameter("checkbox5")) {
            pos:120,0
            settings{checkboxBuildName=>toggle}
      }

      // 4 scrollable lists with different configurations
      placeholder(generated(cross(200, 20)), builderParameter("scroll1")) {
            pos:400,100
            settings{height=>200, topClearance=>60}
      }
      placeholder(generated(cross(200, 20)), builderParameter("scroll2")):550,100;
      placeholder(generated(cross(200, 20)), builderParameter("scroll3")):700,100;
      placeholder(generated(cross(200, 20)), builderParameter("scroll4")):850,100;

      // Checkbox with label text
      placeholder(generated(cross(200, 20)), builderParameter("checkboxWithLabel")) {
            pos:610,50;
            settings{font=>dd}
      }
}
