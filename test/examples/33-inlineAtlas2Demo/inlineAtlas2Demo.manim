version: 0.3

#sheetAtlas atlas2(sheet("demo")) {
  my-center: 2, 2, 24, 24
  my-anim: 106, 2, 24, 24, index: 0
  my-anim: 132, 2, 24, 24, index: 1
  my-anim: 158, 2, 24, 24, index: 2
  my-9patch: 80, 2, 24, 24, split: 6, 6, 6, 6
}

#fileAtlas atlas2("demo-0.png") {
  file-tile1: 2, 2, 24, 24
  file-tile2: 28, 2, 24, 24
  file-tile3: 54, 2, 24, 24
}

#inlineAtlas2Demo programmable() {
  pos: 0, 0
  grid: 1280, 720

  @alpha(0.1) bitmap(generated(color(1280, 720, white)));

  text(dd, "sheet source", white, left, 200): 40, 30
  @scale(4) bitmap(sheet("sheetAtlas", "my-center")): 60, 100
  rect(#FF69B4, 4, 104, 104): 56, 96

  text(dd, "anim idx 0-2", white, left, 200): 200, 30
  @scale(4) bitmap(sheet("sheetAtlas", "my-anim", 0), left, top): 200, 100
  rect(#FF69B4, 4, 104, 104): 196, 96
  @scale(4) bitmap(sheet("sheetAtlas", "my-anim", 1), left, top): 320, 100
  rect(#FF69B4, 4, 104, 104): 316, 96
  @scale(4) bitmap(sheet("sheetAtlas", "my-anim", 2), left, top): 440, 100
  rect(#FF69B4, 4, 104, 104): 436, 96

  text(dd, "9patch", white, left, 200): 600, 30
  ninepatch("sheetAtlas", "my-9patch", 192, 192): 600, 100
  rect(#FF69B4, 4, 200, 200): 596, 96

  text(dd, "file source", white, left, 200): 40, 350
  @scale(4) bitmap(sheet("fileAtlas", "file-tile1"), left, top): 60, 420
  rect(#FF69B4, 4, 104, 104): 56, 416
  @scale(4) bitmap(sheet("fileAtlas", "file-tile2"), left, top): 180, 420
  rect(#FF69B4, 4, 104, 104): 176, 416
  @scale(4) bitmap(sheet("fileAtlas", "file-tile3"), left, top): 300, 420
  rect(#FF69B4, 4, 104, 104): 296, 416

  text(dd, "construct animSM", white, left, 200): 440, 350
  @scale(4) stateAnim construct("anim",
    "anim" => sheet "sheetAtlas", "my-anim", 10, loop
  ): 540, 500
  rect(#FF69B4, 4, 104, 104): 536, 496
}
